<div class="friends">
  <h2>👥 Add Friends</h2>

  <!-- Search Users -->
  <div class="search">
    <input [(ngModel)]="searchTerm" placeholder="Search by email..." />
    <button (click)="searchUser()">🔍 Search</button>
  </div>

  <div *ngIf="searchedUser" class="user-result">
    <p>{{ searchedUser.name }} ({{ searchedUser.email }})</p>
    <button *ngIf="searchedUser.id && currentUserId !== searchedUser.id" (click)="sendFriendRequest(searchedUser.id)">
      ➕ Add Friend
    </button>
    <span *ngIf="searchedUser.id === currentUserId">This is you</span>
  </div>

  <!-- Pending Friend Requests -->
  <h3>Pending Requests</h3>
  <ul *ngIf="friendRequests.length > 0">
    <li *ngFor="let request of friendRequests">
      {{ request.name }}
      <button (click)="acceptFriendRequest(request.id!)">✔️ Accept</button>
    </li>
  </ul>
  <p *ngIf="friendRequests.length === 0">No pending friend requests.</p>
</div>
